<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>storefront documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">storefront documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>TreatmentCreateComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/admin/treatment-create/treatment-create.component.ts</code>
</p>

    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Central Component for handling visual treatment editing.</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-treatment-create</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./treatment-create.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./treatment-create.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#edited">edited</a>
                            </li>
                            <li>
                                <a href="#newT">newT</a>
                            </li>
                            <li>
                                <a href="#newTreatment">newTreatment</a>
                            </li>
                            <li>
                                <a href="#show">show</a>
                            </li>
                            <li>
                                <a href="#treatmentForm">treatmentForm</a>
                            </li>
                            <li>
                                <a href="#uploading">uploading</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#addFilter">addFilter</a>
                            </li>
                            <li>
                                <a href="#addItems">addItems</a>
                            </li>
                            <li>
                                <a href="#editData">editData</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                <a href="#refresh">refresh</a>
                            </li>
                            <li>
                                <a href="#saveTreatment">saveTreatment</a>
                            </li>
                            <li>
                                <a href="#saveTreatmentData">saveTreatmentData</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>






    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addFilter"></a>
                    <span class="name">
                        <b>
                            addFilter
                        </b>
                        <a href="#addFilter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addFilter()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="164"
                            class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:164</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>OnClick listener function for opening addition dialog type custom filter addition.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addItems"></a>
                    <span class="name">
                        <b>
                            addItems
                        </b>
                        <a href="#addItems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addItems()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="138"
                            class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:138</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>OnClick listener function for opening addition dialog type item addition.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="editData"></a>
                    <span class="name">
                        <b>
                            editData
                        </b>
                        <a href="#editData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>editData()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="199"
                            class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:199</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>OnClick listener for enabling inputs for title and description form.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="41"
                            class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:41</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refresh"></a>
                    <span class="name">
                        <b>
                            refresh
                        </b>
                        <a href="#refresh"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refresh()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="219"
                            class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:219</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Function for refresh UI components.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="saveTreatment"></a>
                    <span class="name">
                        <b>
                            saveTreatment
                        </b>
                        <a href="#saveTreatment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>saveTreatment()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="102"
                            class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:102</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>OnClick listener function for saving changes on treatment specification.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="saveTreatmentData"></a>
                    <span class="name">
                        <b>
                            saveTreatmentData
                        </b>
                        <a href="#saveTreatmentData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>saveTreatmentData()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="119"
                            class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:119</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>OnClick listener function for saving title and description for treatment.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="edited"></a>
                        <span class="name">
                            <b>
                            edited</b>
                            <a href="#edited"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:25</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Switch for ? Not used yet</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="newT"></a>
                        <span class="name">
                            <b>
                            newT</b>
                            <a href="#newT"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="23" class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:23</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Switch for checking if new treatment is created or existing treatment edited. </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="newTreatment"></a>
                        <span class="name">
                            <b>
                            newTreatment</b>
                            <a href="#newTreatment"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:19</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="show"></a>
                        <span class="name">
                            <b>
                            show</b>
                            <a href="#show"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="29" class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:29</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Switch for visibility of treatmentEdit component, true after necessary data is present. </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="treatmentForm"></a>
                        <span class="name">
                            <b>
                            treatmentForm</b>
                            <a href="#treatmentForm"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/forms/FormGroup" target="_blank" >FormGroup</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:21</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Base treatment data title and description form. </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="uploading"></a>
                        <span class="name">
                            <b>
                            uploading</b>
                            <a href="#uploading"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="27" class="link-to-prism">src/app/admin/treatment-create/treatment-create.component.ts:27</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Switch for disabling save button on uploading new treament data. </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import { Router, ActivatedRoute } from &#x27;@angular/router&#x27;;
import { FormBuilder, FormGroup } from &#x27;@angular/forms&#x27;;
import { TreatmentService } from &#x27;../services/treatment.service&#x27;;
import { MatDialog } from &#x27;@angular/material/dialog&#x27;;
import { ItemAllocateDialogComponent } from &#x27;../item-allocate-dialog/item-allocate-dialog.component&#x27;;
import { FilterAllocateDialogComponent } from &#x27;../filter-allocate-dialog/filter-allocate-dialog.component&#x27;;

/**
 * Central Component for handling visual treatment editing.
 */
@Component({
  selector: &#x27;app-treatment-create&#x27;,
  templateUrl: &#x27;./treatment-create.component.html&#x27;,
  styleUrls: [&#x27;./treatment-create.component.scss&#x27;]
})
export class TreatmentCreateComponent implements OnInit {
  /** */
  newTreatment: any;
  /**Base treatment data title and description form. */
  treatmentForm: FormGroup;
  /**Switch for checking if new treatment is created or existing treatment edited. */
  newT &#x3D; false;
  /**Switch for ? Not used yet*/
  edited &#x3D; false;
  /**Switch for disabling save button on uploading new treament data. */
  uploading &#x3D; false;
  /**Switch for visibility of treatmentEdit component, true after necessary data is present. */
  show &#x3D; false;
  /**@ignore */
  constructor(
    private router: Router,
    private fb: FormBuilder,
    private activatedRoute: ActivatedRoute,
    private treatmentService: TreatmentService,
    private dialog: MatDialog
  ) { }
  /**
   * 
   */
  ngOnInit() {
    if (this.activatedRoute.snapshot.data.treatment) {
      this.newTreatment &#x3D; this.activatedRoute.snapshot.data.treatment;
      if (!this.newTreatment.items) {
        this.newTreatment.items &#x3D; [];
      }
      if (!this.newTreatment.filters) {
        this.newTreatment.filters &#x3D; [];
      }
      if (!this.newTreatment.subjectOptions) {
        this.newTreatment.subjectOptions &#x3D; {
          money: 0,
          restricted: false
        }
      }
      this.treatmentForm &#x3D; this.fb.group({
        name: [&#x27;&#x27;],
        description: [&#x27;&#x27;]
      })
      this.newT &#x3D; true;
      this.show &#x3D; true;
      console.log(this.newTreatment);
    }
    if (this.activatedRoute.snapshot.paramMap.get(&#x27;id&#x27;)) {
      console.log(this.activatedRoute.snapshot.paramMap.get(&#x27;id&#x27;));
      this.treatmentService.getSpecificTreatment(this.activatedRoute.snapshot.paramMap.get(&#x27;id&#x27;)).subscribe(
        (val: any[]) &#x3D;&gt; {
          // console.log(val);
          this.newTreatment &#x3D; val[0];
          // console.log(this.newTreatment);
          this.treatmentForm &#x3D; this.fb.group({
            name: [this.newTreatment.name],
            description: [this.newTreatment.description]
          });
          this.treatmentForm.disable();
          // console.log(this.treatmentForm.disable());
          this.uploading &#x3D; false;
          if (!this.newTreatment.items) {
            this.newTreatment.items &#x3D; [];
          }
          if (!this.newTreatment.filters) {
            this.newTreatment.filters &#x3D; [];
          }
          if (!this.newTreatment.subjectOptions) {
            this.newTreatment.subjectOptions &#x3D; {
              money: 0,
              restricted: false
            }
          }
          console.log(this.newTreatment);
          this.show &#x3D; true;
        }
      );
      this.treatmentService.refreshUI.subscribe(() &#x3D;&gt; {
        this.refresh();
      });
    }
  }
  /**
   * OnClick listener function for saving changes on treatment specification.
   */
  saveTreatment() {
    this.uploading &#x3D; true;
    console.log(this.newTreatment.questionnaire);
    this.treatmentService.updateSpecificTreatment(this.newTreatment).subscribe(
      (val: any) &#x3D;&gt; {
        if (!this.newT) {
          this.uploading &#x3D; false;
          return;
        }
        this.router.navigate([&#x27;/admin/treatmentEdit/&#x27; + val._id]);
      }
    );
  }

  /**
   * OnClick listener function for saving title and description for treatment.
   */
  saveTreatmentData() {
    this.uploading &#x3D; true;
    this.newTreatment.name &#x3D; this.treatmentForm.controls.name.value;
    this.newTreatment.description &#x3D; this.treatmentForm.controls.description.value;
    this.treatmentService.updateSpecificTreatment(this.newTreatment).subscribe(
      (val: any) &#x3D;&gt; {
        if (!this.newT) {
          this.uploading &#x3D; false;
          this.treatmentForm.disable();
          return;
        }
        this.router.navigate([&#x27;/admin/treatmentEdit/&#x27; + val._id]);
      }
    );
  }

  /**
   * OnClick listener function for opening addition dialog type item addition.
   */
  addItems() {
    const dialogRef &#x3D; this.dialog.open(ItemAllocateDialogComponent, {
      width: &#x27;80%&#x27;,
      maxHeight: &#x27;90vh&#x27;,
      data: {
        treatmentID: this.newTreatment._id,
        items: this.newTreatment.items,
        ref: &#x27;treatment&#x27;
      }
    });

    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {
      if (result) {
        this.treatmentService.addItemsToTreatment(this.newTreatment._id, result).subscribe(
          (val) &#x3D;&gt; {
            this.treatmentService.replaceTreatment(val);
            this.treatmentService.emitRefreshUI();
          }
        );
      }
    });
  }

  /**
   * OnClick listener function for opening addition dialog type custom filter addition.
   */
  addFilter() {
    const dialogRef &#x3D; this.dialog.open(FilterAllocateDialogComponent, {
      width: &#x27;80%&#x27;,
      data: { ref: &#x27;treatment&#x27;, filters: this.newTreatment.filters }
    });

    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {
      if (result) {
        let promises &#x3D; [];
        result.forEach((element) &#x3D;&gt; {
          promises.push(
            new Promise((resolve, reject) &#x3D;&gt; {
              this.treatmentService.addFilterToTreatment(this.newTreatment._id, element._id).subscribe(
                (val) &#x3D;&gt; {
                  resolve(val);
                }),
                (error) &#x3D;&gt; { reject(error) }
            })
          );
        });
        Promise.all(promises)
          .then((val: any[]) &#x3D;&gt; {
            val.forEach((element) &#x3D;&gt; {
              this.treatmentService.replaceTreatment(element);
            });
            this.treatmentService.emitRefreshUI();
            this.show &#x3D; true;
          })
          .catch((val) &#x3D;&gt; { console.log(val) });
      }
    });
  }
  /**
   * OnClick listener for enabling inputs for title and description form.
   */
  editData() {
    this.treatmentForm.enable();
  }
  /**
   * @ignore
   */
  onBack() {
    if (!this.edited &amp;&amp; this.newT) {
      this.treatmentService.deleteSpecificTreatment(this.newTreatment._id).subscribe(
        (val) &#x3D;&gt; {
          this.router.navigate([&#x27;/admin&#x27;]);
        }
      );
    } else {
      this.router.navigate([&#x27;/admin&#x27;]);
    }
  }
  /**
   * Function for refresh UI components.
   */
  refresh() {
    this.treatmentService.getSpecificTreatment(this.activatedRoute.snapshot.paramMap.get(&#x27;id&#x27;)).subscribe(
      (val: any[]) &#x3D;&gt; {
        this.newTreatment &#x3D; val[0];
        this.show &#x3D; true;
      }
    );
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;container&quot;&gt;
  &lt;div class&#x3D;&quot;mini-nav&quot;&gt;
    &lt;button mat-icon-button (click)&#x3D;&quot;onBack()&quot;&gt;
      &lt;mat-icon&gt;arrow_back&lt;/mat-icon&gt;
    &lt;/button&gt;
    &lt;h3 class&#x3D;&quot;ml-2 mt-1&quot;&gt;Back to administration&lt;/h3&gt;
  &lt;/div&gt;

  &lt;div class&#x3D;&quot;info&quot;&gt;
    &lt;h3&gt;Create Treatment:&lt;/h3&gt;
    &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
    &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseTreatment&quot;
      aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseTreatment&quot;&gt;
      &lt;mat-icon&gt;info&lt;/mat-icon&gt;
    &lt;/button&gt;
  &lt;/div&gt;
  &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseTreatment&quot;&gt;
    &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
      &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
        The treatment edit screen gives you opportunity to configure the specificities of your individual
        treatment needs. You can configure the selection of items to display in the shop, configure these items to
        reflect changes, add filter options, and configure game and display options in the shop environment.
        &lt;br&gt;
        Note: Always remember to save the treatment after making changes to persist the changes.
      &lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div *ngIf&#x3D;&quot;show&quot; class&#x3D;&quot;subform&quot;&gt;
    &lt;div class&#x3D;&quot;row&quot;&gt;
      &lt;div class&#x3D;&quot;col&quot;&gt;
        &lt;div class&#x3D;&quot;info&quot;&gt;
          &lt;h5&gt;Treatment data:&lt;/h5&gt;
          &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
          &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot;
            data-target&#x3D;&quot;#collapseTreatmentData&quot; aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseTreatmentData&quot;&gt;
            &lt;mat-icon&gt;info&lt;/mat-icon&gt;
          &lt;/button&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseTreatmentData&quot;&gt;
          &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
            &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
              Input name and description of your individual treatment. These are only relevant for your reference. They
              will not be displayed during a trial.
            &lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;form [formGroup]&#x3D;&quot;treatmentForm&quot; (ngSubmit)&#x3D;&quot;saveTreatmentData()&quot;&gt;
      &lt;mat-form-field&gt;
        &lt;input type&#x3D;&quot;text&quot; matInput formControlName&#x3D;&quot;name&quot; placeholder&#x3D;&quot;Name&quot;&gt;
      &lt;/mat-form-field&gt;
      &lt;mat-form-field&gt;
        &lt;textarea type&#x3D;&quot;text&quot; matInput formControlName&#x3D;&quot;description&quot; placeholder&#x3D;&quot;Description&quot;&gt;&lt;/textarea&gt;
      &lt;/mat-form-field&gt;
      &lt;button *ngIf&#x3D;&quot;treatmentForm.enabled&quot; [disabled]&#x3D;&quot;uploading&quot; mat-raised-button type&#x3D;&quot;submit&quot;&gt;Save&lt;/button&gt;
    &lt;/form&gt;
    &lt;button *ngIf&#x3D;&quot;treatmentForm.disabled&quot; mat-raised-button (click)&#x3D;&quot;editData()&quot;&gt;Edit&lt;/button&gt;

    &lt;!-- allocate Tax also to individual item --&gt;

    &lt;!-- allocate swaps also to individual item --&gt;

    &lt;!-- allocate score individual item --&gt;

    &lt;!-- set restrictions for subjects / max money; change item amount (necessary real time update of amount displayed) --&gt;
  &lt;/div&gt;
  &lt;mat-divider&gt;&lt;/mat-divider&gt;
  &lt;div class&#x3D;&quot;subform&quot; *ngIf&#x3D;&quot;show&quot;&gt;
    &lt;div class&#x3D;&quot;info&quot;&gt;
      &lt;h5&gt;Items:&lt;/h5&gt;
      &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
      &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseItems&quot;
        aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseItems&quot;&gt;
        &lt;mat-icon&gt;info&lt;/mat-icon&gt;
      &lt;/button&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseItems&quot;&gt;
      &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
        &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
          Here you can add and delete items from your treatment specification. If items are added a copy of the
          current base item is appended to the treatment. These copies can be edited to reflect the desired changes.
          the corresponding base items will not be updated based on these changes. &lt;br&gt; Note: Swap options, taxes,
          and scores can be added to the individual items by editing these treatment items.
        &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;button mat-raised-button (click)&#x3D;&quot;addItems()&quot;&gt;Add Items&lt;/button&gt;
    &lt;!-- &lt;div *ngIf&#x3D;&quot;newTreatment.items.length &gt; 0&quot;&gt;
      &lt;div *ngFor&#x3D;&quot;let item of newTreatment.items&quot;&gt;
        Hallo
      &lt;/div&gt;
    &lt;/div&gt; --&gt;
    &lt;app-item-manage [treatment]&#x3D;&quot;newTreatment&quot;&gt;&lt;/app-item-manage&gt;
  &lt;/div&gt;
  &lt;mat-divider&gt;&lt;/mat-divider&gt;
  &lt;div class&#x3D;&quot;subform&quot;&gt;

    &lt;div class&#x3D;&quot;info&quot;&gt;
      &lt;h5&gt;Add filter to treatment&lt;/h5&gt;
      &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
      &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseFilter&quot;
        aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseFilter&quot;&gt;
        &lt;mat-icon&gt;info&lt;/mat-icon&gt;
      &lt;/button&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseFilter&quot;&gt;
      &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
        &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
          Text.
        &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;!-- select existing filter Tree allocate to treatment --&gt;
    &lt;button (click)&#x3D;&quot;addFilter()&quot; mat-raised-button&gt;Add filter&lt;/button&gt;
    &lt;app-tree-manage&gt;&lt;/app-tree-manage&gt;
    &lt;!-- &lt;app-tree-create&gt;&lt;/app-tree-create&gt; --&gt;
  &lt;/div&gt;
  &lt;mat-divider&gt;&lt;/mat-divider&gt;
  &lt;div class&#x3D;&quot;subform&quot; *ngIf&#x3D;&quot;show&quot;&gt;
    &lt;div class&#x3D;&quot;info&quot;&gt;
      &lt;h5&gt;Display options&lt;/h5&gt;
      &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
      &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseDisplay&quot;
        aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseDisplay&quot;&gt;
        &lt;mat-icon&gt;info&lt;/mat-icon&gt;
      &lt;/button&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseDisplay&quot;&gt;
      &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
        &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
          Text.
        &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;mat-form-field&gt;
      &lt;mat-label&gt;Amount&lt;/mat-label&gt;
      &lt;input [(ngModel)]&#x3D;&quot;newTreatment.showOptions.numOfItems&quot; matInput type&#x3D;&quot;number&quot;&gt;
      &lt;mat-hint&gt;Amount of items visible on store page&lt;/mat-hint&gt;
    &lt;/mat-form-field&gt;
    &lt;div class&#x3D;&quot;row&quot;&gt;
      &lt;div class&#x3D;&quot;col&quot;&gt;
        &lt;div class&#x3D;&quot;info&quot;&gt;
          &lt;mat-checkbox [(ngModel)]&#x3D;&quot;newTreatment.showOptions.showSum&quot;&gt;Display cart sum
          &lt;/mat-checkbox&gt;
          &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
          &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseSum&quot;
            aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseSum&quot;&gt;
            &lt;mat-icon&gt;info&lt;/mat-icon&gt;
          &lt;/button&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseSum&quot;&gt;
          &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
            &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
              Choose this option to display the current sum of the shopping cart to the participants.
            &lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class&#x3D;&quot;col&quot;&gt;
        &lt;div class&#x3D;&quot;info&quot;&gt;
          &lt;mat-checkbox [(ngModel)]&#x3D;&quot;newTreatment.showOptions.showBudget&quot;&gt;Display budget
          &lt;/mat-checkbox&gt;
          &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
          &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapsebudget&quot;
            aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapsebudget&quot;&gt;
            &lt;mat-icon&gt;info&lt;/mat-icon&gt;
          &lt;/button&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapsebudget&quot;&gt;
          &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
            &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
              Choose this option to display the current budget of the participants.
            &lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;row&quot;&gt;
      &lt;div class&#x3D;&quot;col&quot;&gt;
        &lt;div class&#x3D;&quot;info&quot;&gt;
          &lt;mat-checkbox [(ngModel)]&#x3D;&quot;newTreatment.showOptions.showPopOverCart&quot;&gt;Display popover shopping cart
          &lt;/mat-checkbox&gt;
          &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
          &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot;
            data-target&#x3D;&quot;#collapseshowPopOverCart&quot; aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseshowPopOverCart&quot;&gt;
            &lt;mat-icon&gt;info&lt;/mat-icon&gt;
          &lt;/button&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseshowPopOverCart&quot;&gt;
          &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
            &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
              Choose this option to display the shopping cart in a popover on the item grid.
            &lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;row&quot;&gt;
      &lt;div class&#x3D;&quot;col&quot;&gt;
        &lt;div class&#x3D;&quot;info&quot;&gt;
          &lt;mat-checkbox [(ngModel)]&#x3D;&quot;newTreatment.showOptions.showScore&quot;&gt;Display score&lt;/mat-checkbox&gt;
          &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
          &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseScore&quot;
            aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseScore&quot;&gt;
            &lt;mat-icon&gt;info&lt;/mat-icon&gt;
          &lt;/button&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseScore&quot;&gt;
          &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
            &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
              Choose this option to display the score of an item in the shop.
            &lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class&#x3D;&quot;col&quot;&gt;
        &lt;div class&#x3D;&quot;info&quot;&gt;
          &lt;mat-checkbox [(ngModel)]&#x3D;&quot;newTreatment.showOptions.showTax&quot;&gt;Display taxes&lt;/mat-checkbox&gt;
          &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
          &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseTax&quot;
            aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseTax&quot;&gt;
            &lt;mat-icon&gt;info&lt;/mat-icon&gt;
          &lt;/button&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseTax&quot;&gt;
          &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
            &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
              Choose this option to display the taxes of an item in the shop.
            &lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;row&quot;&gt;
      &lt;div class&#x3D;&quot;col&quot;&gt;
        &lt;div class&#x3D;&quot;info&quot;&gt;
          &lt;mat-checkbox [(ngModel)]&#x3D;&quot;newTreatment.questionnaire&quot;&gt;Show custom questionnaire
          &lt;/mat-checkbox&gt;
          &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
          &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseQuest&quot;
            aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseQuest&quot;&gt;
            &lt;mat-icon&gt;info&lt;/mat-icon&gt;
          &lt;/button&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseQuest&quot;&gt;
          &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
            &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
              Before and after treatment navigate to q1 and q2
            &lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;mat-divider&gt;&lt;/mat-divider&gt;
  &lt;h5&gt;Swap configuration options&lt;/h5&gt;
  &lt;div class&#x3D;&quot;row&quot;&gt;
    &lt;div class&#x3D;&quot;col&quot;&gt;
      &lt;div class&#x3D;&quot;info&quot;&gt;
        &lt;mat-checkbox [(ngModel)]&#x3D;&quot;newTreatment.swapConfig.showSwaps&quot;&gt;Show Swaps&lt;/mat-checkbox&gt;
        &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
        &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseSwap&quot;
          aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseSwap&quot;&gt;
          &lt;mat-icon&gt;info&lt;/mat-icon&gt;
        &lt;/button&gt;
      &lt;/div&gt;
      &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseSwap&quot;&gt;
        &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
          &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
            Choose this option to display the swap options of an item in the shop, when they are selected.
          &lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;col&quot;&gt;
      &lt;div class&#x3D;&quot;info&quot;&gt;
        &lt;mat-checkbox [(ngModel)]&#x3D;&quot;newTreatment.swapConfig.showSwapEnd&quot;&gt;Show Swaps at the end of treatment
        &lt;/mat-checkbox&gt;
        &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
        &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseSwapEnd&quot;
          aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseSwapEnd&quot;&gt;
          &lt;mat-icon&gt;info&lt;/mat-icon&gt;
        &lt;/button&gt;
      &lt;/div&gt;
      &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseSwapEnd&quot;&gt;
        &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
          &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
            Choose this option to display the swaps specified on items when the treatment ends.
          &lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class&#x3D;&quot;row&quot;&gt;
    &lt;div class&#x3D;&quot;col&quot;&gt;
      &lt;div class&#x3D;&quot;info&quot;&gt;
        &lt;mat-checkbox [(ngModel)]&#x3D;&quot;newTreatment.swapConfig.showOptInStart&quot;&gt;Opt-In once at the start&lt;/mat-checkbox&gt;
        &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
        &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot;
          data-target&#x3D;&quot;#collapseSwapOptInStart&quot; aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseSwapOptInStart&quot;&gt;
          &lt;mat-icon&gt;info&lt;/mat-icon&gt;
        &lt;/button&gt;
      &lt;/div&gt;
      &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseSwapOptInStart&quot;&gt;
        &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
          &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
            Choose Opt-In option. Show opt in swap option at start. Based on when the swap options are displayed it is
            either displayed when the treatment starts or when the subject ends the treatment.
          &lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;col&quot;&gt;
      &lt;div class&#x3D;&quot;info&quot;&gt;
        &lt;mat-checkbox [(ngModel)]&#x3D;&quot;newTreatment.swapConfig.showOptInEachTime&quot;&gt;Opt-In before each&lt;/mat-checkbox&gt;
        &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
        &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseOptInEach&quot;
          aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseOptInEach&quot;&gt;
          &lt;mat-icon&gt;info&lt;/mat-icon&gt;
        &lt;/button&gt;
      &lt;/div&gt;
      &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseOptInEach&quot;&gt;
        &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
          &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
            Opt in each time a swap option would be displayed. Also includes a remember my answer option for the
            subjects.
          &lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;mat-divider&gt;&lt;/mat-divider&gt;
  &lt;div class&#x3D;&quot;subform&quot; *ngIf&#x3D;&quot;show&quot;&gt;
    &lt;!-- &lt;h5&gt;Game Options:&lt;/h5&gt; --&gt;
    &lt;div class&#x3D;&quot;info&quot;&gt;
      &lt;h5&gt;Game options&lt;/h5&gt;
      &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
      &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseGame&quot;
        aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseGame&quot;&gt;
        &lt;mat-icon&gt;info&lt;/mat-icon&gt;
      &lt;/button&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseGame&quot;&gt;
      &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
        &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
          Text.
        &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;mat-form-field&gt;
      &lt;input type&#x3D;&quot;number&quot; matInput [(ngModel)]&#x3D;&quot;newTreatment.subjectOptions.money&quot;&gt;
      &lt;mat-hint&gt;Amount of money each subject can spent&lt;/mat-hint&gt;
    &lt;/mat-form-field&gt;
    &lt;div class&#x3D;&quot;row&quot;&gt;
      &lt;div class&#x3D;&quot;col&quot;&gt;
        &lt;div class&#x3D;&quot;info&quot;&gt;
          &lt;mat-checkbox [(ngModel)]&#x3D;&quot;newTreatment.subjectOptions.restricted&quot;&gt;Limit Budget&lt;/mat-checkbox&gt;
          &lt;span style&#x3D;&quot;flex: 1 1 auto&quot;&gt;&lt;/span&gt;
          &lt;button color&#x3D;&quot;primary&quot; mat-icon-button type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#collapseLimited&quot;
            aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseLimited&quot;&gt;
            &lt;mat-icon&gt;info&lt;/mat-icon&gt;
          &lt;/button&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;collapse&quot; id&#x3D;&quot;collapseLimited&quot;&gt;
          &lt;div class&#x3D;&quot;card card-body my-2&quot;&gt;
            &lt;p style&#x3D;&quot;margin-bottom: 0&quot;&gt;
              Choose this option to limit the budget of each participant to a set number.
            &lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;button (click)&#x3D;&quot;saveTreatment()&quot; [disabled]&#x3D;&quot;uploading&quot; mat-raised-button type&#x3D;&quot;submit&quot;&gt;Save&lt;/button&gt;
&lt;/div&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./treatment-create.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">.mini-nav {
  display: flex;
}

form {
  width: 100%;
}

.mat-form-field {
  width: 100%;
}

.subform {
  margin: 15px 0 30px 0;
}

// .example-tree-invisible {
//     display: none;
// }

.example-tree ul,
.example-tree li {
  margin-top: 0;
  margin-bottom: 0;
  list-style-type: none;
}

ul {
  padding-inline-start: 15px;
}

.mat-tree-node {
  min-height: 34px !important;
  cursor: pointer;
}

div.mat-tree-node {
  font-weight: bold;
}

.info {
  display: flex;
  flex-direction: row;
  height: 40px;
  line-height: 40px;
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="container">  <div class="mini-nav">    <button mat-icon-button (click)="onBack()">      <mat-icon>arrow_back</mat-icon>    </button>    <h3 class="ml-2 mt-1">Back to administration</h3>  </div>  <div class="info">    <h3>Create Treatment:</h3>    <span style="flex: 1 1 auto"></span>    <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseTreatment"      aria-expanded="false" aria-controls="collapseTreatment">      <mat-icon>info</mat-icon>    </button>  </div>  <div class="collapse" id="collapseTreatment">    <div class="card card-body my-2">      <p style="margin-bottom: 0">        The treatment edit screen gives you opportunity to configure the specificities of your individual        treatment needs. You can configure the selection of items to display in the shop, configure these items to        reflect changes, add filter options, and configure game and display options in the shop environment.        <br>        Note: Always remember to save the treatment after making changes to persist the changes.      </p>    </div>  </div>  <div *ngIf="show" class="subform">    <div class="row">      <div class="col">        <div class="info">          <h5>Treatment data:</h5>          <span style="flex: 1 1 auto"></span>          <button color="primary" mat-icon-button type="button" data-toggle="collapse"            data-target="#collapseTreatmentData" aria-expanded="false" aria-controls="collapseTreatmentData">            <mat-icon>info</mat-icon>          </button>        </div>        <div class="collapse" id="collapseTreatmentData">          <div class="card card-body my-2">            <p style="margin-bottom: 0">              Input name and description of your individual treatment. These are only relevant for your reference. They              will not be displayed during a trial.            </p>          </div>        </div>      </div>    </div>    <form [formGroup]="treatmentForm" (ngSubmit)="saveTreatmentData()">      <mat-form-field>        <input type="text" matInput formControlName="name" placeholder="Name">      </mat-form-field>      <mat-form-field>        <textarea type="text" matInput formControlName="description" placeholder="Description"></textarea>      </mat-form-field>      <button *ngIf="treatmentForm.enabled" [disabled]="uploading" mat-raised-button type="submit">Save</button>    </form>    <button *ngIf="treatmentForm.disabled" mat-raised-button (click)="editData()">Edit</button>    <!-- allocate Tax also to individual item -->    <!-- allocate swaps also to individual item -->    <!-- allocate score individual item -->    <!-- set restrictions for subjects / max money; change item amount (necessary real time update of amount displayed) -->  </div>  <mat-divider></mat-divider>  <div class="subform" *ngIf="show">    <div class="info">      <h5>Items:</h5>      <span style="flex: 1 1 auto"></span>      <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseItems"        aria-expanded="false" aria-controls="collapseItems">        <mat-icon>info</mat-icon>      </button>    </div>    <div class="collapse" id="collapseItems">      <div class="card card-body my-2">        <p style="margin-bottom: 0">          Here you can add and delete items from your treatment specification. If items are added a copy of the          current base item is appended to the treatment. These copies can be edited to reflect the desired changes.          the corresponding base items will not be updated based on these changes. <br> Note: Swap options, taxes,          and scores can be added to the individual items by editing these treatment items.        </p>      </div>    </div>    <button mat-raised-button (click)="addItems()">Add Items</button>    <!-- <div *ngIf="newTreatment.items.length > 0">      <div *ngFor="let item of newTreatment.items">        Hallo      </div>    </div> -->    <app-item-manage [treatment]="newTreatment"></app-item-manage>  </div>  <mat-divider></mat-divider>  <div class="subform">    <div class="info">      <h5>Add filter to treatment</h5>      <span style="flex: 1 1 auto"></span>      <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseFilter"        aria-expanded="false" aria-controls="collapseFilter">        <mat-icon>info</mat-icon>      </button>    </div>    <div class="collapse" id="collapseFilter">      <div class="card card-body my-2">        <p style="margin-bottom: 0">          Text.        </p>      </div>    </div>    <!-- select existing filter Tree allocate to treatment -->    <button (click)="addFilter()" mat-raised-button>Add filter</button>    <app-tree-manage></app-tree-manage>    <!-- <app-tree-create></app-tree-create> -->  </div>  <mat-divider></mat-divider>  <div class="subform" *ngIf="show">    <div class="info">      <h5>Display options</h5>      <span style="flex: 1 1 auto"></span>      <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseDisplay"        aria-expanded="false" aria-controls="collapseDisplay">        <mat-icon>info</mat-icon>      </button>    </div>    <div class="collapse" id="collapseDisplay">      <div class="card card-body my-2">        <p style="margin-bottom: 0">          Text.        </p>      </div>    </div>    <mat-form-field>      <mat-label>Amount</mat-label>      <input [(ngModel)]="newTreatment.showOptions.numOfItems" matInput type="number">      <mat-hint>Amount of items visible on store page</mat-hint>    </mat-form-field>    <div class="row">      <div class="col">        <div class="info">          <mat-checkbox [(ngModel)]="newTreatment.showOptions.showSum">Display cart sum          </mat-checkbox>          <span style="flex: 1 1 auto"></span>          <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseSum"            aria-expanded="false" aria-controls="collapseSum">            <mat-icon>info</mat-icon>          </button>        </div>        <div class="collapse" id="collapseSum">          <div class="card card-body my-2">            <p style="margin-bottom: 0">              Choose this option to display the current sum of the shopping cart to the participants.            </p>          </div>        </div>      </div>      <div class="col">        <div class="info">          <mat-checkbox [(ngModel)]="newTreatment.showOptions.showBudget">Display budget          </mat-checkbox>          <span style="flex: 1 1 auto"></span>          <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapsebudget"            aria-expanded="false" aria-controls="collapsebudget">            <mat-icon>info</mat-icon>          </button>        </div>        <div class="collapse" id="collapsebudget">          <div class="card card-body my-2">            <p style="margin-bottom: 0">              Choose this option to display the current budget of the participants.            </p>          </div>        </div>      </div>    </div>    <div class="row">      <div class="col">        <div class="info">          <mat-checkbox [(ngModel)]="newTreatment.showOptions.showPopOverCart">Display popover shopping cart          </mat-checkbox>          <span style="flex: 1 1 auto"></span>          <button color="primary" mat-icon-button type="button" data-toggle="collapse"            data-target="#collapseshowPopOverCart" aria-expanded="false" aria-controls="collapseshowPopOverCart">            <mat-icon>info</mat-icon>          </button>        </div>        <div class="collapse" id="collapseshowPopOverCart">          <div class="card card-body my-2">            <p style="margin-bottom: 0">              Choose this option to display the shopping cart in a popover on the item grid.            </p>          </div>        </div>      </div>    </div>    <div class="row">      <div class="col">        <div class="info">          <mat-checkbox [(ngModel)]="newTreatment.showOptions.showScore">Display score</mat-checkbox>          <span style="flex: 1 1 auto"></span>          <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseScore"            aria-expanded="false" aria-controls="collapseScore">            <mat-icon>info</mat-icon>          </button>        </div>        <div class="collapse" id="collapseScore">          <div class="card card-body my-2">            <p style="margin-bottom: 0">              Choose this option to display the score of an item in the shop.            </p>          </div>        </div>      </div>      <div class="col">        <div class="info">          <mat-checkbox [(ngModel)]="newTreatment.showOptions.showTax">Display taxes</mat-checkbox>          <span style="flex: 1 1 auto"></span>          <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseTax"            aria-expanded="false" aria-controls="collapseTax">            <mat-icon>info</mat-icon>          </button>        </div>        <div class="collapse" id="collapseTax">          <div class="card card-body my-2">            <p style="margin-bottom: 0">              Choose this option to display the taxes of an item in the shop.            </p>          </div>        </div>      </div>    </div>    <div class="row">      <div class="col">        <div class="info">          <mat-checkbox [(ngModel)]="newTreatment.questionnaire">Show custom questionnaire          </mat-checkbox>          <span style="flex: 1 1 auto"></span>          <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseQuest"            aria-expanded="false" aria-controls="collapseQuest">            <mat-icon>info</mat-icon>          </button>        </div>        <div class="collapse" id="collapseQuest">          <div class="card card-body my-2">            <p style="margin-bottom: 0">              Before and after treatment navigate to q1 and q2            </p>          </div>        </div>      </div>    </div>  </div>  <mat-divider></mat-divider>  <h5>Swap configuration options</h5>  <div class="row">    <div class="col">      <div class="info">        <mat-checkbox [(ngModel)]="newTreatment.swapConfig.showSwaps">Show Swaps</mat-checkbox>        <span style="flex: 1 1 auto"></span>        <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseSwap"          aria-expanded="false" aria-controls="collapseSwap">          <mat-icon>info</mat-icon>        </button>      </div>      <div class="collapse" id="collapseSwap">        <div class="card card-body my-2">          <p style="margin-bottom: 0">            Choose this option to display the swap options of an item in the shop, when they are selected.          </p>        </div>      </div>    </div>    <div class="col">      <div class="info">        <mat-checkbox [(ngModel)]="newTreatment.swapConfig.showSwapEnd">Show Swaps at the end of treatment        </mat-checkbox>        <span style="flex: 1 1 auto"></span>        <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseSwapEnd"          aria-expanded="false" aria-controls="collapseSwapEnd">          <mat-icon>info</mat-icon>        </button>      </div>      <div class="collapse" id="collapseSwapEnd">        <div class="card card-body my-2">          <p style="margin-bottom: 0">            Choose this option to display the swaps specified on items when the treatment ends.          </p>        </div>      </div>    </div>  </div>  <div class="row">    <div class="col">      <div class="info">        <mat-checkbox [(ngModel)]="newTreatment.swapConfig.showOptInStart">Opt-In once at the start</mat-checkbox>        <span style="flex: 1 1 auto"></span>        <button color="primary" mat-icon-button type="button" data-toggle="collapse"          data-target="#collapseSwapOptInStart" aria-expanded="false" aria-controls="collapseSwapOptInStart">          <mat-icon>info</mat-icon>        </button>      </div>      <div class="collapse" id="collapseSwapOptInStart">        <div class="card card-body my-2">          <p style="margin-bottom: 0">            Choose Opt-In option. Show opt in swap option at start. Based on when the swap options are displayed it is            either displayed when the treatment starts or when the subject ends the treatment.          </p>        </div>      </div>    </div>    <div class="col">      <div class="info">        <mat-checkbox [(ngModel)]="newTreatment.swapConfig.showOptInEachTime">Opt-In before each</mat-checkbox>        <span style="flex: 1 1 auto"></span>        <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseOptInEach"          aria-expanded="false" aria-controls="collapseOptInEach">          <mat-icon>info</mat-icon>        </button>      </div>      <div class="collapse" id="collapseOptInEach">        <div class="card card-body my-2">          <p style="margin-bottom: 0">            Opt in each time a swap option would be displayed. Also includes a remember my answer option for the            subjects.          </p>        </div>      </div>    </div>  </div>  <mat-divider></mat-divider>  <div class="subform" *ngIf="show">    <!-- <h5>Game Options:</h5> -->    <div class="info">      <h5>Game options</h5>      <span style="flex: 1 1 auto"></span>      <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseGame"        aria-expanded="false" aria-controls="collapseGame">        <mat-icon>info</mat-icon>      </button>    </div>    <div class="collapse" id="collapseGame">      <div class="card card-body my-2">        <p style="margin-bottom: 0">          Text.        </p>      </div>    </div>    <mat-form-field>      <input type="number" matInput [(ngModel)]="newTreatment.subjectOptions.money">      <mat-hint>Amount of money each subject can spent</mat-hint>    </mat-form-field>    <div class="row">      <div class="col">        <div class="info">          <mat-checkbox [(ngModel)]="newTreatment.subjectOptions.restricted">Limit Budget</mat-checkbox>          <span style="flex: 1 1 auto"></span>          <button color="primary" mat-icon-button type="button" data-toggle="collapse" data-target="#collapseLimited"            aria-expanded="false" aria-controls="collapseLimited">            <mat-icon>info</mat-icon>          </button>        </div>        <div class="collapse" id="collapseLimited">          <div class="card card-body my-2">            <p style="margin-bottom: 0">              Choose this option to limit the budget of each participant to a set number.            </p>          </div>        </div>      </div>    </div>  </div>  <button (click)="saveTreatment()" [disabled]="uploading" mat-raised-button type="submit">Save</button></div></div>'
    var COMPONENTS = [{'name': 'AdminComponent', 'selector': 'app-admin'},{'name': 'AdminHeaderComponent', 'selector': 'app-admin-header'},{'name': 'AdminLandingComponent', 'selector': 'app-admin-landing'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'EndTrialComponent', 'selector': 'app-end-trial'},{'name': 'FilterAllocateDialogComponent', 'selector': 'app-filter-allocate-dialog'},{'name': 'FilterComponent', 'selector': 'app-filter'},{'name': 'FoodCardComponent', 'selector': 'app-food-card'},{'name': 'FoodDetailsComponent', 'selector': 'app-food-details'},{'name': 'HeaderComponent', 'selector': 'app-header'},{'name': 'ImageDialogComponent', 'selector': 'app-image-dialog'},{'name': 'InfoDialogComponent', 'selector': 'app-info-dialog'},{'name': 'ItemAllocateDialogComponent', 'selector': 'app-item-allocate-dialog'},{'name': 'ItemCreateComponent', 'selector': 'app-item-create'},{'name': 'ItemGridComponent', 'selector': 'app-item-grid'},{'name': 'ItemManageComponent', 'selector': 'app-item-manage'},{'name': 'LabelAllocateDialogComponent', 'selector': 'app-label-allocate-dialog'},{'name': 'LabelCreateComponent', 'selector': 'app-label-create'},{'name': 'LandingComponent', 'selector': 'app-landing'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'NotfoundComponent', 'selector': 'app-notfound'},{'name': 'RegisterComponent', 'selector': 'app-register'},{'name': 'ScoreCreateComponent', 'selector': 'app-score-create'},{'name': 'ShoppingCartComponent', 'selector': 'app-shopping-cart'},{'name': 'ShoppingMetricsComponent', 'selector': 'app-shopping-metrics'},{'name': 'SubjectManageComponent', 'selector': 'app-subject-manage'},{'name': 'SubjectSelectComponent', 'selector': 'app-subject-select'},{'name': 'SwapDialogComponent', 'selector': 'app-swap-dialog'},{'name': 'SwapOptDialogComponent', 'selector': 'app-swap-opt-dialog'},{'name': 'TaxCreateComponent', 'selector': 'app-tax-create'},{'name': 'TreatmentCreateComponent', 'selector': 'app-treatment-create'},{'name': 'TreatmentSelectComponent', 'selector': 'app-treatment-select'},{'name': 'TreeCreateComponent', 'selector': 'app-tree-create'},{'name': 'TreeManageComponent', 'selector': 'app-tree-manage'},{'name': 'TrialComponent', 'selector': 'app-trial'},{'name': 'TrialConfigComponent', 'selector': 'app-trial-config'},{'name': 'TrialLandingComponent', 'selector': 'app-trial-landing'},{'name': 'TrialShopComponent', 'selector': 'app-trial-shop'}];
    var DIRECTIVES = [{'name': 'FixedNavDirective', 'selector': '[appFixedNav]'},{'name': 'ScoreDirective', 'selector': '[appScore]'}];
    var ACTUAL_COMPONENT = {'name': 'TreatmentCreateComponent'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'TreatmentCreateComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
