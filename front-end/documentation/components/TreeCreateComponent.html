<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>storefront documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">storefront documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>TreeCreateComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/admin/tree-create/tree-create.component.ts</code>
</p>

    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Tree Component: Handles creation of custom filter trees</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-tree-create</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./tree-create.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./tree-create.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#dataSource">dataSource</a>
                            </li>
                            <li>
                                <a href="#editTreatment">editTreatment</a>
                            </li>
                            <li>
                                <a href="#filterTrees">filterTrees</a>
                            </li>
                            <li>
                                <a href="#hasChild">hasChild</a>
                            </li>
                            <li>
                                <a href="#index">index</a>
                            </li>
                            <li>
                                <a href="#obj">obj</a>
                            </li>
                            <li>
                                <a href="#parentNodeMap">parentNodeMap</a>
                            </li>
                            <li>
                                <a href="#show">show</a>
                            </li>
                            <li>
                                <a href="#treatmentID">treatmentID</a>
                            </li>
                            <li>
                                <a href="#treeControl">treeControl</a>
                            </li>
                            <li>
                                <a href="#treeID">treeID</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#addChild">addChild</a>
                            </li>
                            <li>
                                <a href="#addFilterTree">addFilterTree</a>
                            </li>
                            <li>
                                <a href="#addItems">addItems</a>
                            </li>
                            <li>
                                <a href="#closeEdit">closeEdit</a>
                            </li>
                            <li>
                                <a href="#deleteTree">deleteTree</a>
                            </li>
                            <li>
                                <a href="#eachRecursive">eachRecursive</a>
                            </li>
                            <li>
                                <a href="#findParent">findParent</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                <a href="#populateFormsTree">populateFormsTree</a>
                            </li>
                            <li>
                                <a href="#printTree">printTree</a>
                            </li>
                            <li>
                                <a href="#recursivePopulate">recursivePopulate</a>
                            </li>
                            <li>
                                <a href="#recursiveTree">recursiveTree</a>
                            </li>
                            <li>
                                <a href="#refresh">refresh</a>
                            </li>
                            <li>
                                <a href="#removeItem">removeItem</a>
                            </li>
                            <li>
                                <a href="#updateIndexes">updateIndexes</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>






    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addChild"></a>
                    <span class="name">
                        <b>
                            addChild
                        </b>
                        <a href="#addChild"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addChild(parent)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="239"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:239</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>OnClick listener for adding node to parent node. </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>parent</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addFilterTree"></a>
                    <span class="name">
                        <b>
                            addFilterTree
                        </b>
                        <a href="#addFilterTree"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addFilterTree()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="218"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:218</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>OnClick listener for beginning to add a new filter tree to base trees.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addItems"></a>
                    <span class="name">
                        <b>
                            addItems
                        </b>
                        <a href="#addItems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addItems(node)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="133"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:133</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>OnClick listener function that handles item ref addition to node.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>node</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeEdit"></a>
                    <span class="name">
                        <b>
                            closeEdit
                        </b>
                        <a href="#closeEdit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>closeEdit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="123"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:123</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Click listener for closing edit without saving.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteTree"></a>
                    <span class="name">
                        <b>
                            deleteTree
                        </b>
                        <a href="#deleteTree"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>deleteTree(node)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="260"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:260</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>OnClick listener for deleteing specified node.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>node</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="eachRecursive"></a>
                    <span class="name">
                        <b>
                            eachRecursive
                        </b>
                        <a href="#eachRecursive"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>eachRecursive(obj, i)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="346"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:346</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Recursivley updates indexes for passed branch of filter tree.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>i</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findParent"></a>
                    <span class="name">
                        <b>
                            findParent
                        </b>
                        <a href="#findParent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>findParent(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, node: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="311"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:311</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Recursive find parent node function.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>node</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="76"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:76</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>OnInit Lifecylcle hook, cheks if existing tree should be edited or if a new 
tree is created. In addition it checks if it is editted on treatment edit (only item ref addition)
or on base tree creation/ editing (creating new and edit existing).</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="populateFormsTree"></a>
                    <span class="name">
                        <b>
                            populateFormsTree
                        </b>
                        <a href="#populateFormsTree"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>populateFormsTree(tree)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="164"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:164</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Function that adds node definition to trees ref of this.obj</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>tree</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="printTree"></a>
                    <span class="name">
                        <b>
                            printTree
                        </b>
                        <a href="#printTree"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>printTree()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="361"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:361</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="recursivePopulate"></a>
                    <span class="name">
                        <b>
                            recursivePopulate
                        </b>
                        <a href="#recursivePopulate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>recursivePopulate(parent, obj, res, i)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="180"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:180</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Functions that recursivly iterates tree</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>parent</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>obj</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>res</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>i</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="recursiveTree"></a>
                    <span class="name">
                        <b>
                            recursiveTree
                        </b>
                        <a href="#recursiveTree"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>recursiveTree(obj, res)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="398"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:398</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Function for recursivley building tree structure before saving to API.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>res</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refresh"></a>
                    <span class="name">
                        <b>
                            refresh
                        </b>
                        <a href="#refresh"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refresh()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="280"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:280</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Function for refreshing UI data.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeItem"></a>
                    <span class="name">
                        <b>
                            removeItem
                        </b>
                        <a href="#removeItem"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeItem(currentNode: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, root: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="293"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:293</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>OnClick listener for removing items ref of nodes.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>currentNode</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>root</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateIndexes"></a>
                    <span class="name">
                        <b>
                            updateIndexes
                        </b>
                        <a href="#updateIndexes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateIndexes(array)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="333"
                            class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:333</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Function for updating node indexes. </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>array</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="dataSource"></a>
                        <span class="name">
                            <b>
                            dataSource</b>
                            <a href="#dataSource"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new MatTreeNestedDataSource&lt;any&gt;()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="51" class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:51</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Datasource for Mat-tree </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="editTreatment"></a>
                        <span class="name">
                            <b>
                            editTreatment</b>
                            <a href="#editTreatment"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:41</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Checks if the edit in question is performed on a treatment or of a base filter tree. </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="filterTrees"></a>
                        <span class="name">
                            <b>
                            filterTrees</b>
                            <a href="#filterTrees"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>this.obj.trees</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:33</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Reference to trees in this.obj </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="hasChild"></a>
                        <span class="name">
                            <b>
                            hasChild</b>
                            <a href="#hasChild"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="212" class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:212</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Necessary for Mat-tree in template. </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="index"></a>
                        <span class="name">
                            <b>
                            index</b>
                            <a href="#index"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>0</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:45</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="obj"></a>
                        <span class="name">
                            <b>
                            obj</b>
                            <a href="#obj"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{
    form: this.fb.group({
      name: [&#x27;&#x27;],
      description: [&#x27;&#x27;]
    }),
    trees: []
  }</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:25</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Base object for storing custom filter tree.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="parentNodeMap"></a>
                        <span class="name">
                            <b>
                            parentNodeMap</b>
                            <a href="#parentNodeMap"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new Map&lt;any, any&gt;()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="47" class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:47</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>For Mat-tree hanling </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="show"></a>
                        <span class="name">
                            <b>
                            show</b>
                            <a href="#show"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:39</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Switch for displaying page content after ngOninit. </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="treatmentID"></a>
                        <span class="name">
                            <b>
                            treatmentID</b>
                            <a href="#treatmentID"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" >String</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:37</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Stores treatmentID </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="treeControl"></a>
                        <span class="name">
                            <b>
                            treeControl</b>
                            <a href="#treeControl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new NestedTreeControl&lt;any&gt;(node &#x3D;&gt; node.children)</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="49" class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:49</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Tree control (Mat-tree) </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="treeID"></a>
                        <span class="name">
                            <b>
                            treeID</b>
                            <a href="#treeID"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" >String</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="35" class="link-to-prism">src/app/admin/tree-create/tree-create.component.ts:35</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Stores treeID if tree is edited after creation. </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import { NestedTreeControl } from &#x27;@angular/cdk/tree&#x27;;
import { MatDialog } from &#x27;@angular/material/dialog&#x27;;
import { MatTreeNestedDataSource } from &#x27;@angular/material/tree&#x27;;
import { Router, ActivatedRoute, RouterState } from &#x27;@angular/router&#x27;;
import { FormBuilder } from &#x27;@angular/forms&#x27;;
import { TreeService } from &#x27;../services/tree.service&#x27;;
import { ItemAllocateDialogComponent } from &#x27;../item-allocate-dialog/item-allocate-dialog.component&#x27;;
import { union } from &#x27;underscore&#x27;;
import { TreatmentService } from &#x27;../services/treatment.service&#x27;;

/**
 * Tree Component: Handles creation of custom filter trees
 */
@Component({
  selector: &#x27;app-tree-create&#x27;,
  templateUrl: &#x27;./tree-create.component.html&#x27;,
  styleUrls: [&#x27;./tree-create.component.scss&#x27;]
})
export class TreeCreateComponent implements OnInit {

  /**
   * Base object for storing custom filter tree.
   */
  obj &#x3D; {
    form: this.fb.group({
      name: [&#x27;&#x27;],
      description: [&#x27;&#x27;]
    }),
    trees: []
  }
  /**Reference to trees in this.obj */
  filterTrees &#x3D; this.obj.trees;
  /**Stores treeID if tree is edited after creation. */
  treeID: String
  /**Stores treatmentID */
  treatmentID: String;
  /**Switch for displaying page content after ngOninit. */
  show &#x3D; false;
  /**Checks if the edit in question is performed on a treatment or of a base filter tree. */
  editTreatment &#x3D; false;

  // displayFilters: any[] &#x3D; [];
  /** */
  index &#x3D; 0;
  /**For Mat-tree hanling */
  parentNodeMap &#x3D; new Map&lt;any, any&gt;();
  /**Tree control (Mat-tree) */
  treeControl &#x3D; new NestedTreeControl&lt;any&gt;(node &#x3D;&gt; node.children);
  /**Datasource for Mat-tree */
  dataSource &#x3D; new MatTreeNestedDataSource&lt;any&gt;();

  /**
   * @ignore
   * @param router 
   * @param route 
   * @param fb 
   * @param treeService 
   * @param dialog 
   * @param treatmentService 
   */
  constructor(
    private router: Router,
    private route: ActivatedRoute,
    private fb: FormBuilder,
    private treeService: TreeService,
    private dialog: MatDialog,
    private treatmentService: TreatmentService
  ) { }

  /**
   * OnInit Lifecylcle hook, cheks if existing tree should be edited or if a new 
   * tree is created. In addition it checks if it is editted on treatment edit (only item ref addition)
   * or on base tree creation/ editing (creating new and edit existing).
   */
  ngOnInit() {
    console.log(this.route.snapshot);
    // if in treatment edit; and tree shouls be placed on filters array... 
    if (this.route.snapshot.parent.url[0].path &#x3D;&#x3D; &#x27;treatmentEdit&#x27;) {
      console.log(&#x27;treatment Edit&#x27;);
      this.treatmentID &#x3D; this.route.snapshot.parent.url[1].path;
      console.log(this.treatmentID);
      this.editTreatment &#x3D; true;
      this.treatmentService.getSpecificTreatment(this.route.snapshot.parent.url[1].path).subscribe(
        (val: any[]) &#x3D;&gt; {
          this.treeID &#x3D; this.route.snapshot.url[1].path
          const ind &#x3D; val[0].filters.findIndex(x &#x3D;&gt; x._id &#x3D;&#x3D; this.treeID);
          if (ind &#x3D;&#x3D; -1) {
            // handle if tree not present
            return;
          }
          let tree &#x3D; val[0].filters[ind];
          this.obj.form &#x3D; this.fb.group({ name: tree.name, description: tree.description })
          let resTree &#x3D; this.populateFormsTree(tree.tree);
          this.obj.trees &#x3D; resTree;
          this.refresh();
        }
      );
      // this.populateFormsTree()
      return;
      // this.showNav &#x3D; false;
    } else if (this.route.snapshot.url[0].path !&#x3D; &#x27;new&#x27;) {
      console.log(this.route.snapshot.url);
      const treeID &#x3D; this.route.snapshot.url[1].path;
      this.treeService.getSpecificTree(treeID).subscribe(
        (tree: any) &#x3D;&gt; {
          console.log(tree);
          this.obj.form &#x3D; this.fb.group({ name: tree.name, description: tree.description })
          let resTree &#x3D; this.populateFormsTree(tree.tree);
          this.obj.trees &#x3D; resTree;
          this.refresh();
        }
      )
    } else {
      this.show &#x3D; true;
    }
    // if ()
    // this.getTrees();
  }
  /**
   * Click listener for closing edit without saving.
   */
  closeEdit() {
    // console.log(this.routeState);
    this.treeService.emitCloseEdit();
  }

  // for adding items to subcategory
  /**
   * OnClick listener function that handles item ref addition to node.
   * @param node 
   */
  addItems(node) {
    // console.log(this.treatmentID);
    const dialogRef &#x3D; this.dialog.open(ItemAllocateDialogComponent, {
      width: &#x27;80%&#x27;,
      data: {
        treatmentID: this.treatmentID,
        items: node.items,
        ref: &#x27;tree&#x27;
      }
    });

    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {
      if (result) {
        let itemIds &#x3D; []
        result.forEach(element &#x3D;&gt; {
          itemIds.push(element._id);
        });
        node.items &#x3D; union(node.items, itemIds);
      }
      console.log(node.items);
      // console.log(result);
      console.log(&#x27;The dialog was closed&#x27;);
      // this.animal &#x3D; result;
    });
  }

  // for tree population when selected
  /**
   * Function that adds node definition to trees ref of this.obj
   * @param tree 
   */
  populateFormsTree(tree) {
    console.log(tree);
    let res &#x3D; [];
    tree.forEach((element, i) &#x3D;&gt; {
      res.push(this.recursivePopulate(null, element, {}, i));
    });
    return res
  }

  /**
   * Functions that recursivly iterates tree
   * @param parent 
   * @param obj 
   * @param res 
   * @param i 
   */
  recursivePopulate(parent, obj, res, i) {
    if (!parent) {
      res.parentId &#x3D; null;
      res.index &#x3D; i;
      res.id &#x3D; 0;
      res.level &#x3D; 0;
      if (!obj.items) {
        res.items &#x3D; [];
      } else {
        res.items &#x3D; obj.items;
      }
    } else {
      const id &#x3D; parent.level + (parent.children.length + 1) / 10.0;
      res.index &#x3D; parent.index;
      res.level &#x3D; parent.level + 1;
      res.parentId &#x3D; parent.id;
      res.id &#x3D; id;
      res.items &#x3D; obj.items;
    }
    res.name &#x3D; this.fb.group({
      name: [obj.name]
    });
    res.children &#x3D; [];
    if (obj.children &amp;&amp; obj.children.length &gt; 0) {
      obj.children.forEach((element, ind) &#x3D;&gt; {
        res.children.push({});
        this.recursivePopulate(res, element, res.children[ind], i);
      });
    }
    return res;
  }
  /**Necessary for Mat-tree in template. */
  hasChild &#x3D; (_: number, node: any) &#x3D;&gt; !!node.children &amp;&amp; node.children.length &gt; 0;

  // function add tree
  /**
   * OnClick listener for beginning to add a new filter tree to base trees.
   */
  addFilterTree() {
    this.obj.trees.push({
      parentId: null,
      index: this.index,
      id: 0,
      level: 0,
      name: this.fb.group({
        name: [&#x27;&#x27;],
      }),
      children: [],
      items: []
    });
    this.index +&#x3D; 1;
    this.refresh();
  }

  // function add child
  /**
   * OnClick listener for adding node to parent node. 
   * @param parent 
   */
  addChild(parent) {
    const id &#x3D; parent.level + (parent.children.length + 1) / 10.0;
    parent.children.push({
      index: parent.index,
      level: parent.level + 1,
      parentId: parent.id,
      id: id,
      name: this.fb.group({
        name: [&#x27;&#x27;],
      }),
      children: [],
      items: []
    });
    this.refresh()
  }

  // central delete function checks if entire tree or child
  /**
   * OnClick listener for deleteing specified node.
   * @param node 
   */
  deleteTree(node) {
    if (node.parentId &#x3D;&#x3D; null) {
      console.log(node);
      this.obj.trees.splice(this.obj.trees.findIndex(x &#x3D;&gt; x &#x3D;&#x3D; node), 1);
      this.refresh();
      this.index -&#x3D; 1;
      this.updateIndexes(this.obj.trees);
      if (this.obj.trees.length &#x3D;&#x3D; 0) {
        this.show &#x3D; false;
      }
      return;
    }
    this.removeItem(node, this.obj.trees[node.index]);
    // this.refresh();
  }

  // for refreshing the dom view
  /**
   * Function for refreshing UI data.
   */
  refresh() {
    this.show &#x3D; false;
    this.dataSource.data &#x3D; null;
    this.dataSource.data &#x3D; this.obj.trees;
    this.show &#x3D; true;
  }

  // remove item from tree
  /**
   * OnClick listener for removing items ref of nodes.
   * @param currentNode 
   * @param root 
   */
  removeItem(currentNode: any, root: any) {
    //const parentNode &#x3D; this.parentNodeMap.get(currentNode);
    const parentNode &#x3D; this.findParent(currentNode.parentId, root);
    // console.log(&quot;parentNode &quot; + parentNode);
    const index &#x3D; parentNode.children.indexOf(currentNode);
    if (index !&#x3D;&#x3D; -1) {
      console.log(parentNode);
      parentNode.children.splice(index, 1);
      this.refresh();
      this.parentNodeMap.delete(currentNode);
      console.log(this.parentNodeMap);
    }
  }
  /**
   * Recursive find parent node function.
   * @param id 
   * @param node 
   */
  findParent(id: number, node: any): any {
    console.log(&quot;id &quot; + id + &quot; node&quot; + node.id);
    if (node !&#x3D; undefined &amp;&amp; node.id &#x3D;&#x3D;&#x3D; id) {
      return node;
    } else {
      // console.log(&quot;ELSE &quot; + JSON.stringify(node.children));
      for (let element in node.children) {
        // console.log(&quot;Recursive &quot; + JSON.stringify(node.children[element].children));
        if (node.children[element].children !&#x3D; undefined &amp;&amp; node.children[element].children.length &gt; 0) {
          return this.findParent(id, node.children[element]);
        } else {
          continue;
        }
      }
    }
  }

  // update indexes when sub tree from array is deleted
  /**
   * Function for updating node indexes. 
   * @param array 
   */
  updateIndexes(array) {
    if (array.length &#x3D;&#x3D; 0) { return }
    array.forEach((element, index) &#x3D;&gt; {
      this.eachRecursive(element, index);
    });
    console.log(this.obj.trees);
  }

  /**
   * Recursivley updates indexes for passed branch of filter tree.
   * @param obj 
   * @param i 
   */
  eachRecursive(obj, i) {
    // console.log(obj);
    if (obj.children.length &gt; 0) {
      obj.children.forEach(element &#x3D;&gt; {
        this.eachRecursive(element, i);
      });
    }
    obj.index &#x3D; i;
    // console.log(obj);
  }

  // prints resulting tree structure {name: &#x27;...&#x27;, children:[...], items:[...]}
  /**
   * 
   */
  printTree() {
    let trees &#x3D; [];
    this.obj.trees.forEach(element &#x3D;&gt; {
      let res &#x3D; this.recursiveTree(element, {})
      trees.push(res);
    });
    let result: any &#x3D; {
      name: this.obj.form.controls.name.value,
      description: this.obj.form.controls.description.value,
      tree: trees
    }
    if (this.editTreatment) {
      result._id &#x3D; this.treeID;
      this.treeService.updateFilterOnTreatment(this.treatmentID, result).subscribe((val) &#x3D;&gt; {
        this.treatmentService.replaceTreatment(val);
      });
    } else if (this.route.snapshot.url[0].path &#x3D;&#x3D; &#x27;edit&#x27;) {
      result._id &#x3D; this.route.snapshot.url[1].path;
      this.treeService.updateFilterTree(result).subscribe(
        (val) &#x3D;&gt; {
          this.treeService.emitUpdateFilterList();
        },
        (error) &#x3D;&gt; { console.log(error) }
      );
    } else {
      this.treeService.saveNewFilterTree(result).subscribe(
        () &#x3D;&gt; {
          this.treeService.emitUpdateFilterList();
        }
      );
    }
  }
  /**
   * Function for recursivley building tree structure before saving to API.
   * @param obj 
   * @param res 
   */
  recursiveTree(obj, res) {
    res.name &#x3D; obj.name.controls.name.value;
    res.items &#x3D; obj.items;
    res.children &#x3D; [];
    if (obj.children.length &gt; 0) {
      obj.children.forEach((element, i) &#x3D;&gt; {
        res.children.push({});
        this.recursiveTree(element, res.children[i]);
      });
    }
    return res;
  }

  // navigate Back
  /**@ignore */
  onBack() {
    this.router.navigate([&#x27;/admin&#x27;]);
  }

}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div style&#x3D;&quot;position: relative&quot;&gt;
  &lt;div style&#x3D;&quot;position: absolute; position: absolute; top: 0px; right: 0px; font-size: 18px;&quot;&gt;
    &lt;button (click)&#x3D;&quot;closeEdit()&quot; mat-icon-button&gt;
      &lt;mat-icon&gt;close&lt;/mat-icon&gt;
    &lt;/button&gt;
  &lt;/div&gt;
  &lt;div *ngIf&#x3D;show&gt;
    &lt;div class&#x3D;&quot;subform&quot;&gt;
      &lt;h5&gt;Edit Filter&lt;/h5&gt;
      &lt;form [formGroup]&#x3D;&quot;obj.form&quot; style&#x3D;&quot;display: inline-grid; width: 100%&quot;&gt;
        &lt;mat-form-field style&#x3D;&quot;width: 100%&quot;&gt;
          &lt;input formControlName&#x3D;&quot;name&quot; type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;Name&quot; matInput&gt;
        &lt;/mat-form-field&gt;
        &lt;mat-form-field style&#x3D;&quot;width: 100%&quot;&gt;
          &lt;textarea formControlName&#x3D;&quot;description&quot; type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;Descritption&quot; matInput&gt;&lt;/textarea&gt;
        &lt;/mat-form-field&gt;
      &lt;/form&gt;
      &lt;mat-tree [dataSource]&#x3D;&quot;dataSource&quot; [treeControl]&#x3D;&quot;treeControl&quot; class&#x3D;&quot;example-tree&quot;&gt;
        &lt;mat-tree-node *matTreeNodeDef&#x3D;&quot;let node&quot; matTreeNodeToggle
          [ngClass]&#x3D;&quot;{&#x27;&#x27;:!editTreatment, &#x27;space-between&#x27;:editTreatment}&quot;&gt;
          &lt;li class&#x3D;&quot;mat-tree-node&quot; *ngIf&#x3D;&quot;!editTreatment; else names&quot;&gt;
            &lt;!-- use a disabled button to provide padding for tree leaf --&gt;
            &lt;form [formGroup]&#x3D;&quot;node.name&quot;&gt;
              &lt;mat-form-field&gt;
                &lt;input formControlName&#x3D;&quot;name&quot; type&#x3D;&quot;text&quot; matInput placeholder&#x3D;&quot;Name&quot;&gt;
              &lt;/mat-form-field&gt;
            &lt;/form&gt;
          &lt;/li&gt;
          &lt;ng-template #names&gt;
            &lt;p [matBadge]&#x3D;&quot;node.items.length&quot;&gt;{{node.name.controls.name.value}}&lt;/p&gt;
          &lt;/ng-template&gt;
          &lt;button *ngIf&#x3D;&quot;editTreatment&quot; mat-raised-button (click)&#x3D;&quot;addItems(node)&quot;&gt;Add Items&lt;/button&gt;
          &lt;button *ngIf&#x3D;&quot;!editTreatment&quot; mat-raised-button (click)&#x3D;&quot;deleteTree(node)&quot;&gt;Lschen&lt;/button&gt;
          &lt;button *ngIf&#x3D;&quot;!editTreatment&quot; mat-raised-button (click)&#x3D;&quot;addChild(node)&quot;&gt;Subkategorie&lt;/button&gt;
        &lt;/mat-tree-node&gt;
        &lt;mat-nested-tree-node *matTreeNodeDef&#x3D;&quot;let node; when: hasChild&quot;&gt;
          &lt;li&gt;
            &lt;div class&#x3D;&quot;mat-tree-node&quot; mat-icon-button matTreeNodeToggle [attr.aria-label]&#x3D;&quot;&#x27;toggle &#x27; + node.name&quot;&gt;
              {{node.name.controls.name.value}}
              &lt;div style&#x3D;&quot;margin-left: auto&quot;&gt;
                &lt;button *ngIf&#x3D;&quot;!editTreatment&quot; mat-raised-button (click)&#x3D;&quot;deleteTree(node)&quot;&gt;Lschen&lt;/button&gt;
                &lt;button *ngIf&#x3D;&quot;!editTreatment&quot; mat-raised-button (click)&#x3D;&quot;addChild(node)&quot;&gt;Subkategorie&lt;/button&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;ul [class.example-tree-invisible]&#x3D;&quot;!treeControl.isExpanded(node)&quot;&gt;
              &lt;ng-container matTreeNodeOutlet&gt;&lt;/ng-container&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/mat-nested-tree-node&gt;
      &lt;/mat-tree&gt;
      &lt;button *ngIf&#x3D;&quot;!editTreatment&quot; mat-raised-button (click)&#x3D;&quot;addFilterTree()&quot;&gt;Create nested filter&lt;/button&gt;
      &lt;button mat-raised-button (click)&#x3D;&quot;printTree()&quot;&gt;Save&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;button mat-raised-button *ngIf&#x3D;&quot;!show&quot; (click)&#x3D;&quot;addFilterTree()&quot;&gt;Create Custom Filter&lt;/button&gt;
&lt;/div&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./tree-create.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">.mini-nav {
  display: flex;
}

.example-tree ul,
.example-tree li {
  margin-top: 0;
  margin-bottom: 0;
  list-style-type: none;
}

ul {
  padding-inline-start: 15px;
}

.mat-tree-node {
  // min-height: 34px !important;
  cursor: pointer;
}

.space-between {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  height: 60px
}

.subform {
  margin: 15px 0;
}

// div.mat-tree-node {
//     font-weight: bold;
// }
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div style="position: relative">  <div style="position: absolute; position: absolute; top: 0px; right: 0px; font-size: 18px;">    <button (click)="closeEdit()" mat-icon-button>      <mat-icon>close</mat-icon>    </button>  </div>  <div *ngIf=show>    <div class="subform">      <h5>Edit Filter</h5>      <form [formGroup]="obj.form" style="display: inline-grid; width: 100%">        <mat-form-field style="width: 100%">          <input formControlName="name" type="text" placeholder="Name" matInput>        </mat-form-field>        <mat-form-field style="width: 100%">          <textarea formControlName="description" type="text" placeholder="Descritption" matInput></textarea>        </mat-form-field>      </form>      <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="example-tree">        <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle          [ngClass]="{\'\':!editTreatment, \'space-between\':editTreatment}">          <li class="mat-tree-node" *ngIf="!editTreatment; else names">            <!-- use a disabled button to provide padding for tree leaf -->            <form [formGroup]="node.name">              <mat-form-field>                <input formControlName="name" type="text" matInput placeholder="Name">              </mat-form-field>            </form>          </li>          <ng-template #names>            <p [matBadge]="node.items.length">{{node.name.controls.name.value}}</p>          </ng-template>          <button *ngIf="editTreatment" mat-raised-button (click)="addItems(node)">Add Items</button>          <button *ngIf="!editTreatment" mat-raised-button (click)="deleteTree(node)">Lschen</button>          <button *ngIf="!editTreatment" mat-raised-button (click)="addChild(node)">Subkategorie</button>        </mat-tree-node>        <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">          <li>            <div class="mat-tree-node" mat-icon-button matTreeNodeToggle [attr.aria-label]="\'toggle \' + node.name">              {{node.name.controls.name.value}}              <div style="margin-left: auto">                <button *ngIf="!editTreatment" mat-raised-button (click)="deleteTree(node)">Lschen</button>                <button *ngIf="!editTreatment" mat-raised-button (click)="addChild(node)">Subkategorie</button>              </div>            </div>            <ul [class.example-tree-invisible]="!treeControl.isExpanded(node)">              <ng-container matTreeNodeOutlet></ng-container>            </ul>          </li>        </mat-nested-tree-node>      </mat-tree>      <button *ngIf="!editTreatment" mat-raised-button (click)="addFilterTree()">Create nested filter</button>      <button mat-raised-button (click)="printTree()">Save</button>    </div>  </div>  <button mat-raised-button *ngIf="!show" (click)="addFilterTree()">Create Custom Filter</button></div></div>'
    var COMPONENTS = [{'name': 'AdminComponent', 'selector': 'app-admin'},{'name': 'AdminHeaderComponent', 'selector': 'app-admin-header'},{'name': 'AdminLandingComponent', 'selector': 'app-admin-landing'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'EndTrialComponent', 'selector': 'app-end-trial'},{'name': 'FilterAllocateDialogComponent', 'selector': 'app-filter-allocate-dialog'},{'name': 'FilterComponent', 'selector': 'app-filter'},{'name': 'FoodCardComponent', 'selector': 'app-food-card'},{'name': 'FoodDetailsComponent', 'selector': 'app-food-details'},{'name': 'HeaderComponent', 'selector': 'app-header'},{'name': 'ImageDialogComponent', 'selector': 'app-image-dialog'},{'name': 'InfoDialogComponent', 'selector': 'app-info-dialog'},{'name': 'ItemAllocateDialogComponent', 'selector': 'app-item-allocate-dialog'},{'name': 'ItemCreateComponent', 'selector': 'app-item-create'},{'name': 'ItemGridComponent', 'selector': 'app-item-grid'},{'name': 'ItemManageComponent', 'selector': 'app-item-manage'},{'name': 'LabelAllocateDialogComponent', 'selector': 'app-label-allocate-dialog'},{'name': 'LabelCreateComponent', 'selector': 'app-label-create'},{'name': 'LandingComponent', 'selector': 'app-landing'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'NotfoundComponent', 'selector': 'app-notfound'},{'name': 'RegisterComponent', 'selector': 'app-register'},{'name': 'ScoreCreateComponent', 'selector': 'app-score-create'},{'name': 'ShoppingCartComponent', 'selector': 'app-shopping-cart'},{'name': 'ShoppingMetricsComponent', 'selector': 'app-shopping-metrics'},{'name': 'SubjectManageComponent', 'selector': 'app-subject-manage'},{'name': 'SubjectSelectComponent', 'selector': 'app-subject-select'},{'name': 'SwapDialogComponent', 'selector': 'app-swap-dialog'},{'name': 'SwapOptDialogComponent', 'selector': 'app-swap-opt-dialog'},{'name': 'TaxCreateComponent', 'selector': 'app-tax-create'},{'name': 'TreatmentCreateComponent', 'selector': 'app-treatment-create'},{'name': 'TreatmentSelectComponent', 'selector': 'app-treatment-select'},{'name': 'TreeCreateComponent', 'selector': 'app-tree-create'},{'name': 'TreeManageComponent', 'selector': 'app-tree-manage'},{'name': 'TrialComponent', 'selector': 'app-trial'},{'name': 'TrialConfigComponent', 'selector': 'app-trial-config'},{'name': 'TrialLandingComponent', 'selector': 'app-trial-landing'},{'name': 'TrialShopComponent', 'selector': 'app-trial-shop'}];
    var DIRECTIVES = [{'name': 'FixedNavDirective', 'selector': '[appFixedNav]'},{'name': 'ScoreDirective', 'selector': '[appScore]'}];
    var ACTUAL_COMPONENT = {'name': 'TreeCreateComponent'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'TreeCreateComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
